<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <title>Janela VLibras</title>
</head>

<body>

  <!-- ðŸ”µ Tela de carga -->
  <div id="loading-screen">

    <!-- Loader --->
    <svg class="loader" viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>

    <p class="loading-text">Carregando FunÃ§Ã£o...</p>
  </div>

  <!-- ðŸ”µ TÃ­tulo -->
  <h2>ðŸ§© Tradutor VLibras</h2>

  <!-- ðŸ”µ Ãrea de traduÃ§Ã£o -->
  <div class="orden">
    <div class="translation-box" data-vlibras>
      <h3>Texto para traduÃ§Ã£o:</h3>
      <p id="translated-text"></p>
    </div>

    <input 
      type="text" 
      placeholder="Digite sua mensagem para traduÃ§Ã£o..." 
      id="input-preview"
    />
  </div>

  

  <!-- ðŸ”µ VLibras -->
  <div id="vlibras-container">
    <div vw class="enabled">
      <div vw-access-button class="active"></div>
      <div vw-plugin-wrapper>
        <div class="vw-plugin-top-wrapper"></div>
      </div>
    </div>
  </div>
  

  <!-- ðŸ”µ Scripts VLibras -->
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>

  <script>
    new window.VLibras.Widget("https://vlibras.gov.br/app");
    
    // â–¶ï¸ Input â†’ P em tempo real
    const inputPreview = document.getElementById("input-preview");
    const translatedText = document.getElementById("translated-text");

    if (inputPreview && translatedText) {
      inputPreview.addEventListener("input", () => {
        translatedText.textContent = inputPreview.value;
      });
    }

    // â–¶ï¸ Tela de carga + Ativa o VLibras automaticamente
    window.addEventListener("load", () => {
      setTimeout(() => {

        const loading = document.getElementById("loading-screen");
        loading.classList.add("fade-out");

        setTimeout(() => {
          loading.style.display = "none";
        }, 800); 

        const accessButton = document.querySelector("[vw-access-button]");
        if (accessButton) {
          accessButton.click();
          console.log("âœ… VLibras ativado automaticamente!");
        }

      }, 3000); 
    });

  </script>

</body>
</html>
